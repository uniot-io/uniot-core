<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=9" />
    <meta name="generator" content="Doxygen 1.13.2" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Uniot Core: uniot::ConfigCaptivePortal Class Reference</title>
    <link href="tabs.css" rel="stylesheet" type="text/css" />
    <link rel="icon" type="image/svg+xml" href="logo.png" />
    <script type="text/javascript" src="jquery.js"></script>
    <script type="text/javascript" src="dynsections.js"></script>
    <script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
    <script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
    <script type="text/javascript" src="doxygen-awesome-paragraph-link.js"></script>
    <script type="text/javascript" src="doxygen-awesome-interactive-toc.js"></script>
    <script type="text/javascript" src="doxygen-awesome-tabs.js"></script>
    <script type="text/javascript" src="version-dropdown.js"></script>
    <script type="text/javascript">
        DoxygenAwesomeFragmentCopyButton.init()
        DoxygenAwesomeDarkModeToggle.init()
        DoxygenAwesomeParagraphLink.init()
        DoxygenAwesomeInteractiveToc.init()
        DoxygenAwesomeTabs.init()
    </script>
    <link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
    <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
    <link href="doxygen.css" rel="stylesheet" type="text/css" />
    <link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-uniot.css" rel="stylesheet" type="text/css"/>
</head>
<body>
    <!-- https://tholman.com/github-corners/ -->
    <a href="https://github.com/uniot-io/uniot-core" class="github-corner" title="View source on GitHub" target="_blank"
        rel="noopener noreferrer">
        <svg viewBox="0 0 250 250" width="40" height="40"
            style="position: absolute; top: 0; border: 0; right: 0; z-index: 99;" aria-hidden="true">
            <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
            <path
                d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
                fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
            <path
                d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
                fill="currentColor" class="octo-body"></path>
        </svg></a>
    <style>
        .github-corner:hover .octo-arm {
            animation: octocat-wave 560ms ease-in-out
        }
        @keyframes octocat-wave {
            0%,
            100% {
                transform: rotate(0)
            }
            20%,
            60% {
                transform: rotate(-25deg)
            }
            40%,
            80% {
                transform: rotate(10deg)
            }
        }
        @media (max-width:500px) {
            .github-corner:hover .octo-arm {
                animation: none
            }
            .github-corner .octo-arm {
                animation: octocat-wave 560ms ease-in-out
            }
        }
    </style>
    <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
        <div id="titlearea">
            <table cellspacing="0" cellpadding="0">
                <tbody>
                    <tr>
                        <td id="projectlogo"><img alt="Logo" src="logo.png" /></td>
                    </tr>
                    <tr>
                        <td id="projectalign">
                            <div id="projectname">
                                Uniot Core
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td class="projectalign_number" id="projectalign">
                            <span id="projectnumber">0.8.1</span>
                        </td>
                    </tr>
                    <!-- <tr>
                        <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
                    </tr> -->
                </tbody>
            </table>
        </div>
        <!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('classuniot_1_1_config_captive_portal.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classuniot_1_1_config_captive_portal-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">uniot::ConfigCaptivePortal Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Complete captive portal implementation for device configuration.  
 <a href="#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_config_captive_portal_8h_source.html">ConfigCaptivePortal.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for uniot::ConfigCaptivePortal:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classuniot_1_1_config_captive_portal__inherit__graph.svg" width="203" height="110"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a923be859be1fcfc4a4976e97c6342d59" id="r_a923be859be1fcfc4a4976e97c6342d59"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a923be859be1fcfc4a4976e97c6342d59">ConfigCaptivePortal</a> (const IPAddress &amp;apIp, AwsEventHandler wsHandler=nullptr)</td></tr>
<tr class="memdesc:a923be859be1fcfc4a4976e97c6342d59"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct a new <a class="el" href="classuniot_1_1_config_captive_portal.html" title="Complete captive portal implementation for device configuration.">ConfigCaptivePortal</a>.  <br /></td></tr>
<tr class="separator:a923be859be1fcfc4a4976e97c6342d59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f70e8220b3c770bf58200111ac50005" id="r_a5f70e8220b3c770bf58200111ac50005"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5f70e8220b3c770bf58200111ac50005">start</a> ()</td></tr>
<tr class="memdesc:a5f70e8220b3c770bf58200111ac50005"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start the captive portal services.  <br /></td></tr>
<tr class="separator:a5f70e8220b3c770bf58200111ac50005"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6bec2711f24e4e93c7eefc1705db8cb" id="r_ab6bec2711f24e4e93c7eefc1705db8cb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab6bec2711f24e4e93c7eefc1705db8cb">stop</a> ()</td></tr>
<tr class="memdesc:ab6bec2711f24e4e93c7eefc1705db8cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop all captive portal services.  <br /></td></tr>
<tr class="separator:ab6bec2711f24e4e93c7eefc1705db8cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb8d52d08eb30c4463ec8fcb36b3d70a" id="r_aeb8d52d08eb30c4463ec8fcb36b3d70a"><td class="memItemLeft" align="right" valign="top">AsyncWebServer *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aeb8d52d08eb30c4463ec8fcb36b3d70a">get</a> ()</td></tr>
<tr class="memdesc:aeb8d52d08eb30c4463ec8fcb36b3d70a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the underlying AsyncWebServer instance.  <br /></td></tr>
<tr class="separator:aeb8d52d08eb30c4463ec8fcb36b3d70a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae66f2e1291ef96dbe15989fd7470e089" id="r_ae66f2e1291ef96dbe15989fd7470e089"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae66f2e1291ef96dbe15989fd7470e089">wsTextAll</a> (const String &amp;message)</td></tr>
<tr class="memdesc:ae66f2e1291ef96dbe15989fd7470e089"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send text message to all connected WebSocket clients.  <br /></td></tr>
<tr class="separator:ae66f2e1291ef96dbe15989fd7470e089"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40cbf02aaad47fee3ebbc88c5c3fb3dd" id="r_a40cbf02aaad47fee3ebbc88c5c3fb3dd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a40cbf02aaad47fee3ebbc88c5c3fb3dd">wsText</a> (uint32_t clientId, const String &amp;message)</td></tr>
<tr class="memdesc:a40cbf02aaad47fee3ebbc88c5c3fb3dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send text message to a specific WebSocket client.  <br /></td></tr>
<tr class="separator:a40cbf02aaad47fee3ebbc88c5c3fb3dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2977a875fa3039e477c5698805d47388" id="r_a2977a875fa3039e477c5698805d47388"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2977a875fa3039e477c5698805d47388">wsCloseAll</a> ()</td></tr>
<tr class="memdesc:a2977a875fa3039e477c5698805d47388"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close all WebSocket connections.  <br /></td></tr>
<tr class="separator:a2977a875fa3039e477c5698805d47388"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5aa43f4b13a69092413439e5d8dee79a" id="r_a5aa43f4b13a69092413439e5d8dee79a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5aa43f4b13a69092413439e5d8dee79a">wsEnable</a> (bool enable)</td></tr>
<tr class="memdesc:a5aa43f4b13a69092413439e5d8dee79a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable or disable WebSocket functionality.  <br /></td></tr>
<tr class="separator:a5aa43f4b13a69092413439e5d8dee79a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f578cdddedca8bbb4278e173819cb8b" id="r_a3f578cdddedca8bbb4278e173819cb8b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3f578cdddedca8bbb4278e173819cb8b">wsClientsActive</a> (unsigned long window=30000) const</td></tr>
<tr class="memdesc:a3f578cdddedca8bbb4278e173819cb8b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if WebSocket clients are actively connected.  <br /></td></tr>
<tr class="separator:a3f578cdddedca8bbb4278e173819cb8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad154e4b477bf4cb648aef7293c22d272" id="r_ad154e4b477bf4cb648aef7293c22d272"><td class="memItemLeft" align="right" valign="top">const IPAddress &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad154e4b477bf4cb648aef7293c22d272">ip</a> () const</td></tr>
<tr class="memdesc:ad154e4b477bf4cb648aef7293c22d272"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the IP address of the captive portal.  <br /></td></tr>
<tr class="separator:ad154e4b477bf4cb648aef7293c22d272"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32883ce5fce49910cb090c2ccbcd5610" id="r_a32883ce5fce49910cb090c2ccbcd5610"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a32883ce5fce49910cb090c2ccbcd5610">execute</a> (short _) override</td></tr>
<tr class="memdesc:a32883ce5fce49910cb090c2ccbcd5610"><td class="mdescLeft">&#160;</td><td class="mdescRight">Execute periodic captive portal maintenance tasks.  <br /></td></tr>
<tr class="separator:a32883ce5fce49910cb090c2ccbcd5610"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classuniot_1_1_i_executor"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pub_methods_classuniot_1_1_i_executor')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classuniot_1_1_i_executor.html">uniot::IExecutor</a></td></tr>
<tr class="memitem:af6fec55d5c640d9095b706c87267b64c inherit pub_methods_classuniot_1_1_i_executor" id="r_af6fec55d5c640d9095b706c87267b64c"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classuniot_1_1_i_executor.html#af6fec55d5c640d9095b706c87267b64c">~IExecutor</a> ()</td></tr>
<tr class="memdesc:af6fec55d5c640d9095b706c87267b64c inherit pub_methods_classuniot_1_1_i_executor"><td class="mdescLeft">&#160;</td><td class="mdescRight">Virtual destructor for proper cleanup.  <br /></td></tr>
<tr class="separator:af6fec55d5c640d9095b706c87267b64c inherit pub_methods_classuniot_1_1_i_executor"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Complete captive portal implementation for device configuration. </p>
<p>This class implements a full-featured captive portal that combines DNS redirection, HTTP serving, WebSocket communication, and mDNS discovery. It's designed to provide a seamless configuration experience where users connecting to the device's WiFi network are automatically redirected to the configuration interface.</p>
<p>The captive portal operates by:</p><ol type="1">
<li>Running a DNS server that redirects all queries to the device IP</li>
<li>Serving a web-based configuration interface via HTTP</li>
<li>Enabling real-time communication through WebSockets</li>
<li>Advertising the device via mDNS for local discovery</li>
</ol>
<p>All operations are designed to be non-blocking and suitable for embedded systems with limited resources. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a923be859be1fcfc4a4976e97c6342d59" name="a923be859be1fcfc4a4976e97c6342d59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a923be859be1fcfc4a4976e97c6342d59">&#9670;&#160;</a></span>ConfigCaptivePortal()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uniot::ConfigCaptivePortal::ConfigCaptivePortal </td>
          <td>(</td>
          <td class="paramtype">const IPAddress &amp;</td>          <td class="paramname"><span class="paramname"><em>apIp</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">AwsEventHandler</td>          <td class="paramname"><span class="paramname"><em>wsHandler</em></span><span class="paramdefsep"> = </span><span class="paramdefval">nullptr</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Construct a new <a class="el" href="classuniot_1_1_config_captive_portal.html" title="Complete captive portal implementation for device configuration.">ConfigCaptivePortal</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">apIp</td><td>IP address for the access point and web server </td></tr>
    <tr><td class="paramname">wsHandler</td><td>Optional WebSocket event handler callback</td></tr>
  </table>
  </dd>
</dl>
<p>Initializes all components of the captive portal including DNS server, HTTP server, and WebSocket handler. The WebSocket is automatically added to the HTTP server and configured with the provided event handler. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a32883ce5fce49910cb090c2ccbcd5610" name="a32883ce5fce49910cb090c2ccbcd5610"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32883ce5fce49910cb090c2ccbcd5610">&#9670;&#160;</a></span>execute()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void uniot::ConfigCaptivePortal::execute </td>
          <td>(</td>
          <td class="paramtype">short</td>          <td class="paramname"><span class="paramname"><em>_</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel override">override</span><span class="mlabel virtual">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Execute periodic captive portal maintenance tasks. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_</td><td>Unused parameter (required by <a class="el" href="classuniot_1_1_i_executor.html" title="Interface for executing tasks in the scheduler system.">IExecutor</a> interface)</td></tr>
  </table>
  </dd>
</dl>
<p>Performs essential maintenance operations including:</p><ul>
<li>Processing DNS requests for domain redirection</li>
<li>Cleaning up disconnected WebSocket clients</li>
<li>Updating mDNS service (ESP8266 only)</li>
</ul>
<p>This method should be called regularly from the main loop or task scheduler. </p>

<p>Implements <a class="el" href="classuniot_1_1_i_executor.html#ad1841fb82b8bccb5f2ffe47a3c77a983">uniot::IExecutor</a>.</p>

</div>
</div>
<a id="aeb8d52d08eb30c4463ec8fcb36b3d70a" name="aeb8d52d08eb30c4463ec8fcb36b3d70a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb8d52d08eb30c4463ec8fcb36b3d70a">&#9670;&#160;</a></span>get()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">AsyncWebServer * uniot::ConfigCaptivePortal::get </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the underlying AsyncWebServer instance. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">AsyncWebServer*</td><td>Pointer to the HTTP server for adding custom routes</td></tr>
  </table>
  </dd>
</dl>
<p>Provides access to the web server for adding custom request handlers, routes, and other HTTP-specific configuration. </p>

</div>
</div>
<a id="ad154e4b477bf4cb648aef7293c22d272" name="ad154e4b477bf4cb648aef7293c22d272"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad154e4b477bf4cb648aef7293c22d272">&#9670;&#160;</a></span>ip()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const IPAddress &amp; uniot::ConfigCaptivePortal::ip </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the IP address of the captive portal. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">const</td><td>IPAddress&amp; Reference to the portal's IP address </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5f70e8220b3c770bf58200111ac50005" name="a5f70e8220b3c770bf58200111ac50005"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f70e8220b3c770bf58200111ac50005">&#9670;&#160;</a></span>start()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool uniot::ConfigCaptivePortal::start </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Start the captive portal services. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>true if all services started successfully, false otherwise</td></tr>
  </table>
  </dd>
</dl>
<p>Sequentially starts all captive portal components:</p><ol type="1">
<li>DNS server for domain redirection</li>
<li>WebSocket event handling (if handler provided)</li>
<li>HTTP web server</li>
<li>mDNS advertisement</li>
</ol>
<p>If any component fails to start, the method returns false and the portal remains in a stopped state. </p>

</div>
</div>
<a id="ab6bec2711f24e4e93c7eefc1705db8cb" name="ab6bec2711f24e4e93c7eefc1705db8cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab6bec2711f24e4e93c7eefc1705db8cb">&#9670;&#160;</a></span>stop()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void uniot::ConfigCaptivePortal::stop </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Stop all captive portal services. </p>
<p>Gracefully shuts down all components in reverse order:</p><ol type="1">
<li>mDNS service</li>
<li>DNS server (with memory cleanup workaround)</li>
<li>HTTP web server</li>
<li>WebSocket connections</li>
</ol>
<p>Includes workarounds for known memory issues with DNSServer cleanup. </p>

</div>
</div>
<a id="a3f578cdddedca8bbb4278e173819cb8b" name="a3f578cdddedca8bbb4278e173819cb8b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f578cdddedca8bbb4278e173819cb8b">&#9670;&#160;</a></span>wsClientsActive()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool uniot::ConfigCaptivePortal::wsClientsActive </td>
          <td>(</td>
          <td class="paramtype">unsigned long</td>          <td class="paramname"><span class="paramname"><em>window</em></span><span class="paramdefsep"> = </span><span class="paramdefval">30000</span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if WebSocket clients are actively connected. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">window</td><td>Time window in milliseconds for considering clients active (default: 30 seconds) </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>true if clients are connected and recently active, false otherwise</td></tr>
  </table>
  </dd>
</dl>
<p>Determines if there are WebSocket clients connected and whether they've been active within the specified time window. This helps distinguish between truly active clients and stale connections. </p>

</div>
</div>
<a id="a2977a875fa3039e477c5698805d47388" name="a2977a875fa3039e477c5698805d47388"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2977a875fa3039e477c5698805d47388">&#9670;&#160;</a></span>wsCloseAll()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void uniot::ConfigCaptivePortal::wsCloseAll </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Close all WebSocket connections. </p>
<p>Disables the WebSocket server and forcibly closes all active client connections. Used during shutdown or when switching operating modes. </p>

</div>
</div>
<a id="a5aa43f4b13a69092413439e5d8dee79a" name="a5aa43f4b13a69092413439e5d8dee79a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5aa43f4b13a69092413439e5d8dee79a">&#9670;&#160;</a></span>wsEnable()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void uniot::ConfigCaptivePortal::wsEnable </td>
          <td>(</td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>enable</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Enable or disable WebSocket functionality. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">enable</td><td>true to enable WebSocket server, false to disable</td></tr>
  </table>
  </dd>
</dl>
<p>Controls whether the WebSocket server accepts new connections and processes existing ones. Useful for temporarily suspending WebSocket operations without stopping the entire portal. </p>

</div>
</div>
<a id="a40cbf02aaad47fee3ebbc88c5c3fb3dd" name="a40cbf02aaad47fee3ebbc88c5c3fb3dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40cbf02aaad47fee3ebbc88c5c3fb3dd">&#9670;&#160;</a></span>wsText()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void uniot::ConfigCaptivePortal::wsText </td>
          <td>(</td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>clientId</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const String &amp;</td>          <td class="paramname"><span class="paramname"><em>message</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Send text message to a specific WebSocket client. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">clientId</td><td>ID of the target WebSocket client </td></tr>
    <tr><td class="paramname">message</td><td>Text message to send</td></tr>
  </table>
  </dd>
</dl>
<p>Sends a text message to a specific WebSocket client identified by its client ID. Useful for targeted responses and private communication. </p>

</div>
</div>
<a id="ae66f2e1291ef96dbe15989fd7470e089" name="ae66f2e1291ef96dbe15989fd7470e089"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae66f2e1291ef96dbe15989fd7470e089">&#9670;&#160;</a></span>wsTextAll()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void uniot::ConfigCaptivePortal::wsTextAll </td>
          <td>(</td>
          <td class="paramtype">const String &amp;</td>          <td class="paramname"><span class="paramname"><em>message</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Send text message to all connected WebSocket clients. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">message</td><td>Text message to broadcast</td></tr>
  </table>
  </dd>
</dl>
<p>Broadcasts a text message to all currently connected WebSocket clients. This is commonly used for status updates and configuration responses. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="_config_captive_portal_8h_source.html">ConfigCaptivePortal.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceuniot.html">uniot</a></li><li class="navelem"><a class="el" href="classuniot_1_1_config_captive_portal.html">ConfigCaptivePortal</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
